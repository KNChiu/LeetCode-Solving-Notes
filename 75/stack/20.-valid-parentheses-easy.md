---
description: String, Stack
---

# 20. Valid Parentheses - Easy

## 釐清需求與邊界條件

* 輸入：一個字串
* 輸出：是否包含有效的括號組合
* 邊界條件：
  * 字串長度範圍: 1 <= s.length <= 10^4
  * 字串僅包含括號字符: '(', ')', '{', '}', '\[', ']'

## 口述解法

* 創建一個空堆疊 `stk` 用於存儲開括號
* 創建一個集合 `d` 包含有效的括號對: '()', '\[]', '{}'
* 遍歷字串 `s` 中的每個字符 `c`:
  * 如果 `c` 是開括號 ('(', '\[', '{')，將其推入堆疊 stk
  * 如果 `c` 是閉括號:
    * 如果堆疊為空，返回 False (因為沒有與閉括號匹配的開括號)
    * 否則，從堆疊頂部彈出一個開括號，檢查彈出的開括號與當前閉括號是否形成有效的括號對
    * 如果不是有效的括號對，返回 False
* 遍歷完成後，如果堆疊為空，返回 True (所有開括號都被匹配)，否則返回 False (有未匹配的開括號)

## 測試與優化

* 程式碼

```python
class Solution:
    def isValid(self, s: str) -> bool:
        stk = []
        d = {'()', '[]', '{}'}
        for c in s:
            if c in '({[':
                stk.append(c)
            elif not stk or stk.pop() + c not in d:
                return False
        return not stk
```

## 時間與空間複雜度

* 時間複雜度：O(n)
  * 其中 n 是字串的長度s
* 空間複雜度：O(n)
  * 最壞情況下，所有字符都是開括號，需要將它們全部存入堆疊。
